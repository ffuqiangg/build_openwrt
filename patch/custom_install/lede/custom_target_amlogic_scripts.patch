diff --git a/target/linux/amlogic/mesongx/base-files/root/install-to-emmc.sh b/target/linux/amlogic/mesongx/base-files/root/install-to-emmc.sh
index 299684c1..7e309dd7 100755
--- a/target/linux/amlogic/mesongx/base-files/usr/sbin/install-to-emmc.sh
+++ b/target/linux/amlogic/mesongx/base-files/usr/sbin/install-to-emmc.sh
@@ -25,9 +25,10 @@ function part_disk() {
 	dd if=/dev/zero of="/dev/$to" bs=512 count=1 conv=notrunc 2>/dev/null
 	parted --script "/dev/$to" \
 		mktable msdos \
-		mkpart primary 68MiB 132MiB \
-		mkpart primary 132MiB 388MiB \
-		mkpart primary 764MiB 2812MiB
+		mkpart primary 117MiB 181MiB \
+		mkpart primary 181MiB 580MiB \
+		mkpart primary 800MiB 1824MiB \
+		mkpart primary 1824MiB 100%
 }
 
 function get_bootdisk() {
@@ -113,6 +114,8 @@ function main() {
 		echo "part /dev/$to"
 		part_disk "$to" || return 1
 		partprobe "/dev/$to"
+		sleep 2
+		umount_dist "$to" || return 1
 		if export_partdevice partdev 1; then
 			# umount /boot
 			echo "try umount /boot"
@@ -129,9 +132,13 @@ function main() {
 			dd if=/dev/$partdev of=/dev/$partdevto bs=1M conv=notrunc
 		done
 		# mark RESET overlay partition
-		partdevto=${to}p3
-		echo "mark /dev/$partdevto as RESET"
-		echo "RESET000" | dd of="/dev/$partdevto" bs=512 count=1 conv=sync,fsync
+		for part in 3 4; do
+			partdevto=${to}p$part
+			echo "mark /dev/$partdevto as RESET"
+			echo "RESET000" | dd of="/dev/$partdevto" bs=512 count=1 conv=sync,fsync
+			if grep -qs "/dev/$partdevto" /proc/mounts; then umount -f /dev/$partdevto; fi
+			mkfs.ext4 -F /dev/$partdevto >/dev/null
+		done
 		echo "All Done!"
 	else
 		echo "Bye!"
